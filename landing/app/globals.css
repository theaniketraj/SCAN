@tailwind base;
@tailwind components;
@tailwind utilities;

html,
body {
    height: 100%;
}
body {
    font-family:
        Inter,
        ui-sans-serif,
        system-ui,
        -apple-system,
        "Segoe UI",
        Roboto,
        "Helvetica Neue",
        Arial;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    scroll-behavior: smooth;
}

/* Mobile-friendly base styles */
@media (max-width: 640px) {
    body {
        font-size: 16px; /* Prevents zoom on input focus on iOS */
    }
}

/* Touch-friendly interactive elements */
a,
button,
[role="button"] {
    min-height: 44px;
    min-width: 44px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
}

/* Critical: Override prose and force code block appearance */
div.prose pre,
.prose pre,
pre {
    background-color: rgb(31, 41, 55) !important; /* gray-900 */
    color: rgb(249, 250, 251) !important; /* white */
    padding: 0.75rem !important;
    border-radius: 0.5rem !important;
    overflow-x: auto !important;
    font-family:
        ui-monospace, SFMono-Regular, "SF Mono", Consolas, "Liberation Mono",
        Menlo, monospace !important;
    font-size: 0.75rem !important;
    line-height: 1.5 !important;
    margin: 1.5rem 0 !important;
    border: none !important;
    white-space: pre-wrap !important;
    word-wrap: break-word !important;
    display: block !important;
}

@media (min-width: 640px) {
    div.prose pre,
    .prose pre,
    pre {
        font-size: 0.875rem !important;
        padding: 1rem !important;
    }
}

/* Critical: Code inside pre - ensure it inherits properly */
div.prose pre code,
.prose pre code,
pre code {
    background-color: transparent !important;
    color: inherit !important;
    padding: 0 !important;
    border-radius: 0 !important;
    font-size: inherit !important;
    font-family: inherit !important;
    white-space: inherit !important;
    border: none !important;
    font-weight: inherit !important;
    display: inline !important;
}

/* Inline code - not in pre blocks */
div.prose :not(pre) > code,
.prose :not(pre) > code,
:not(pre) > code {
    background-color: rgb(243, 244, 246) !important; /* gray-100 */
    color: rgb(31, 41, 55) !important; /* gray-900 */
    padding: 0.125rem 0.375rem !important;
    border-radius: 0.25rem !important;
    font-size: 0.875em !important;
    font-family:
        ui-monospace, SFMono-Regular, "SF Mono", Consolas, "Liberation Mono",
        Menlo, monospace !important;
    font-weight: 500 !important;
    border: none !important;
}

/* Dark mode inline code */
.dark div.prose :not(pre) > code,
.dark .prose :not(pre) > code,
.dark :not(pre) > code {
    background-color: rgb(55, 65, 81) !important; /* gray-700 */
    color: rgb(249, 250, 251) !important; /* white */
}

/* Remove prose pseudo-elements for inline code */
div.prose :not(pre) > code::before,
div.prose :not(pre) > code::after,
.prose :not(pre) > code::before,
.prose :not(pre) > code::after {
    content: "" !important;
    display: none !important;
}

/* Ensure container doesn't overflow on mobile */
.container {
    max-width: 100%;
}

@media (max-width: 640px) {
    .container {
        width: 100%;
    }
}

/* Mobile prose content improvements */
@media (max-width: 768px) {
    /* Reduce prose font size on mobile */
    .prose {
        font-size: 0.9375rem !important; /* 15px */
    }

    .prose h1 {
        font-size: 1.75rem !important; /* 28px */
        line-height: 2rem !important;
    }

    .prose h2 {
        font-size: 1.5rem !important; /* 24px */
        line-height: 1.75rem !important;
    }

    .prose h3 {
        font-size: 1.25rem !important; /* 20px */
        line-height: 1.5rem !important;
    }

    .prose h4 {
        font-size: 1.125rem !important; /* 18px */
        line-height: 1.5rem !important;
    }

    /* Ensure images scale properly */
    .prose img {
        max-width: 100% !important;
        height: auto !important;
    }

    /* Tables should scroll horizontally on mobile */
    .prose table {
        display: block !important;
        overflow-x: auto !important;
        white-space: nowrap !important;
        -webkit-overflow-scrolling: touch !important;
    }

    /* Lists with better mobile spacing */
    .prose ul,
    .prose ol {
        padding-left: 1.25rem !important;
    }

    /* Better spacing for list items */
    .prose li {
        margin-top: 0.5rem !important;
        margin-bottom: 0.5rem !important;
    }

    /* Blockquotes */
    .prose blockquote {
        padding-left: 1rem !important;
        font-size: 0.9375rem !important;
    }
}

/* Ensure wide content doesn't break layout */
.prose {
    overflow-wrap: break-word !important;
    word-wrap: break-word !important;
    word-break: break-word !important;
}

/* Max width for prose images and videos */
.prose img,
.prose video,
.prose iframe {
    max-width: 100% !important;
    height: auto !important;
}

/* Ensure divs inside prose don't overflow */
.prose > div,
.prose div {
    max-width: 100% !important;
    overflow-x: auto !important;
}

/* Custom Scrollbar */
::-webkit-scrollbar {
    width: 10px;
}

::-webkit-scrollbar-track {
    background: transparent;
    border-left: 1px solid rgba(209, 213, 219, 0.3); /* light gray with transparency */
}

::-webkit-scrollbar-thumb {
    background: rgba(156, 163, 175, 0.5); /* semi-transparent gray */
    border-radius: 5px;
    border: 2px solid transparent;
}

::-webkit-scrollbar-thumb:hover {
    background: rgba(107, 114, 128, 0.7); /* darker gray on hover */
}

/* Dark mode scrollbar */
.dark ::-webkit-scrollbar-track {
    border-left: 1px solid rgba(75, 85, 99, 0.3); /* darker border in dark mode */
}

.dark ::-webkit-scrollbar-thumb {
    background: rgba(156, 163, 175, 0.4); /* lighter thumb in dark mode */
}

.dark ::-webkit-scrollbar-thumb:hover {
    background: rgba(209, 213, 219, 0.6); /* even lighter on hover */
}
